{"version":3,"file":"runette-ngx-leaflet-loading.mjs","sources":["../../../node_modules/leaflet-loading/src/Control.Loading.js","../../../src/lib/ngx-loading-control.component.ts","../../../src/lib/ngx-loading-control.module.ts","../../../src/public-api.ts","../../../src/runette-ngx-leaflet-loading.ts"],"sourcesContent":["/*\n * L.Control.Loading is a control that shows a loading indicator when tiles are\n * loading or when map-related AJAX requests are taking place.\n */\n\n(function () {\n\n    var console = window.console || {\n        error: function () {},\n        warn: function () {}\n    };\n\n    function defineLeafletLoading(L) {\n        L.Control.Loading = L.Control.extend({\n            options: {\n                delayIndicator: null,\n                position: 'topleft',\n                separate: false,\n                zoomControl: null,\n                spinjs: false,\n                spin: { \n                    lines: 7, \n                    length: 3, \n                    width: 3, \n                    radius: 5, \n                    rotate: 13, \n                    top: \"83%\"\n                }\n            },\n\n            initialize: function(options) {\n                L.setOptions(this, options);\n                this._dataLoaders = {};\n\n                // Try to set the zoom control this control is attached to from the \n                // options\n                if (this.options.zoomControl !== null) {\n                    this.zoomControl = this.options.zoomControl;\n                }\n            },\n\n            onAdd: function(map) {\n                if (this.options.spinjs && (typeof Spinner !== 'function')) {\n                    return console.error(\"Leaflet.loading cannot load because you didn't load spin.js (http://fgnass.github.io/spin.js/), even though you set it in options.\");\n                }\n                this._addLayerListeners(map);\n                this._addMapListeners(map);\n\n                // Try to set the zoom control this control is attached to from the map\n                // the control is being added to\n                if (!this.options.separate && !this.zoomControl) {\n                    if (map.zoomControl) {\n                        this.zoomControl = map.zoomControl;\n                    } else if (map.zoomsliderControl) {\n                        this.zoomControl = map.zoomsliderControl;\n                    }\n                }\n\n                // Create the loading indicator\n                var classes = 'leaflet-control-loading';\n                var container;\n                if (this.zoomControl && !this.options.separate) {\n                    // If there is a zoom control, hook into the bottom of it\n                    container = this.zoomControl._container;\n                    // These classes are no longer used as of Leaflet 0.6\n                    classes += ' leaflet-bar-part-bottom leaflet-bar-part last';\n\n                    // Loading control will be added to the zoom control. So the visible last element is not the\n                    // last dom element anymore. So add the part-bottom class.\n                    L.DomUtil.addClass(this._getLastControlButton(), 'leaflet-bar-part-bottom');\n                }\n                else {\n                    // Otherwise, create a container for the indicator\n                    container = L.DomUtil.create('div', 'leaflet-control-zoom leaflet-control-layer-container leaflet-bar');\n                }\n                this._indicatorContainer = container;\n                this._indicator = L.DomUtil.create('a', classes, container);\n                if (this.options.spinjs) {\n                    this._spinner = new Spinner(this.options.spin).spin();\n                    this._indicator.appendChild(this._spinner.el);\n                }\n                return container;\n            },\n\n            onRemove: function(map) {\n                this._removeLayerListeners(map);\n                this._removeMapListeners(map);\n            },\n\n            removeFrom: function (map) {\n                if (this.zoomControl && !this.options.separate) {\n                    // Override Control.removeFrom() to avoid clobbering the entire\n                    // _container, which is the same as zoomControl's\n                    this._container.removeChild(this._indicator);\n                    this._map = null;\n                    this.onRemove(map);\n                    return this;\n                }\n                else {\n                    // If this control is separate from the zoomControl, call the\n                    // parent method so we don't leave behind an empty container\n                    return L.Control.prototype.removeFrom.call(this, map);\n                }\n            },\n\n            addLoader: function(id) {\n                this._dataLoaders[id] = true;\n                if (this.options.delayIndicator && !this.delayIndicatorTimeout) {\n                    // If we are delaying showing the indicator and we're not\n                    // already waiting for that delay, set up a timeout.\n                    var that = this;\n                    this.delayIndicatorTimeout = setTimeout(function () {\n                        that.updateIndicator();\n                        that.delayIndicatorTimeout = null;\n                    }, this.options.delayIndicator);\n                }\n                else {\n                    // Otherwise show the indicator immediately\n                    this.updateIndicator();\n                }\n            },\n\n            removeLoader: function(id) {\n                delete this._dataLoaders[id];\n                this.updateIndicator();\n\n                // If removing this loader means we're in no danger of loading,\n                // clear the timeout. This prevents old delays from instantly \n                // triggering the indicator.\n                if (this.options.delayIndicator && this.delayIndicatorTimeout && !this.isLoading()) {\n                    clearTimeout(this.delayIndicatorTimeout);\n                    this.delayIndicatorTimeout = null;\n                }\n            },\n\n            updateIndicator: function() {\n                if (this.isLoading()) {\n                    this._showIndicator();\n                }\n                else {\n                    this._hideIndicator();\n                }\n            },\n\n            isLoading: function() {\n                return this._countLoaders() > 0;\n            },\n\n            _countLoaders: function() {\n                var size = 0, key;\n                for (key in this._dataLoaders) {\n                    if (this._dataLoaders.hasOwnProperty(key)) size++;\n                }\n                return size;\n            },\n\n            _showIndicator: function() {\n                // Show loading indicator\n                L.DomUtil.addClass(this._indicator, 'is-loading');\n                L.DomUtil.addClass(this._indicatorContainer, 'is-loading');\n\n                // If zoomControl exists, make the zoom-out button not last\n                if (!this.options.separate) {\n                    if (this.zoomControl instanceof L.Control.Zoom) {\n                        L.DomUtil.removeClass(this._getLastControlButton(), 'leaflet-bar-part-bottom');\n                    }\n                    else if (typeof L.Control.Zoomslider === 'function' && this.zoomControl instanceof L.Control.Zoomslider) {\n                        L.DomUtil.removeClass(this.zoomControl._ui.zoomOut, 'leaflet-bar-part-bottom');\n                    }\n                }\n            },\n\n            _hideIndicator: function() {\n                // Hide loading indicator\n                L.DomUtil.removeClass(this._indicator, 'is-loading');\n                L.DomUtil.removeClass(this._indicatorContainer, 'is-loading');\n\n                // If zoomControl exists, make the zoom-out button last\n                if (!this.options.separate) {\n                    if (this.zoomControl instanceof L.Control.Zoom) {\n                        L.DomUtil.addClass(this._getLastControlButton(), 'leaflet-bar-part-bottom');\n                    }\n                    else if (typeof L.Control.Zoomslider === 'function' && this.zoomControl instanceof L.Control.Zoomslider) {\n                        L.DomUtil.addClass(this.zoomControl._ui.zoomOut, 'leaflet-bar-part-bottom');\n                    }\n                }\n            },\n\n            _getLastControlButton: function() {\n                var container = this.zoomControl._container,\n                    index = container.children.length - 1;\n\n                // Find the last visible control button that is not our loading\n                // indicator\n                while (index > 0) {\n                    var button = container.children[index];\n                    if (!(this._indicator === button || button.offsetWidth === 0 || button.offsetHeight === 0)) {\n                        break;\n                    }\n                    index--;\n                }\n\n                return container.children[index];\n            },\n\n            _handleLoading: function(e) {\n                this.addLoader(this.getEventId(e));\n            },\n\n            _handleBaseLayerChange: function (e) {\n                var that = this;\n\n                // Check for a target 'layer' that contains multiple layers, such as\n                // L.LayerGroup. This will happen if you have an L.LayerGroup in an\n                // L.Control.Layers.\n                if (e.layer && e.layer.eachLayer && typeof e.layer.eachLayer === 'function') {\n                    e.layer.eachLayer(function (layer) {\n                        that._handleBaseLayerChange({ layer: layer });\n                    });\n                }\n                else {\n                    // If we're changing to a canvas layer, don't handle loading\n                    // as canvas layers will not fire load events.\n                    if (!(L.TileLayer.Canvas && e.layer instanceof L.TileLayer.Canvas)) {\n                        that._handleLoading(e);\n                    }\n                }\n            },\n\n            _handleLoad: function(e) {\n                this.removeLoader(this.getEventId(e));\n            },\n\n            getEventId: function(e) {\n                if (e.id) {\n                    return e.id;\n                }\n                else if (e.layer) {\n                    return e.layer._leaflet_id;\n                }\n                return e.target._leaflet_id;\n            },\n\n            _layerAdd: function(e) {\n                if (!e.layer || !e.layer.on) return\n                try {\n                    e.layer.on({\n                        loading: this._handleLoading,\n                        load: this._handleLoad\n                    }, this);\n                }\n                catch (exception) {\n                    console.warn('L.Control.Loading: Tried and failed to add ' +\n                                 ' event handlers to layer', e.layer);\n                    console.warn('L.Control.Loading: Full details', exception);\n                }\n            },\n\n            _layerRemove: function(e) {\n                if (!e.layer || !e.layer.off) return;\n                try {\n                    e.layer.off({\n                        loading: this._handleLoading,\n                        load: this._handleLoad\n                    }, this);\n                }\n                catch (exception) {\n                    console.warn('L.Control.Loading: Tried and failed to remove ' +\n                                 'event handlers from layer', e.layer);\n                    console.warn('L.Control.Loading: Full details', exception);\n                }\n            },\n\n            _addLayerListeners: function(map) {\n                // Add listeners for begin and end of load to any layers already on the \n                // map\n                map.eachLayer(function(layer) {\n                    if (!layer.on) return;\n                    layer.on({\n                        loading: this._handleLoading,\n                        load: this._handleLoad\n                    }, this);\n                }, this);\n\n                // When a layer is added to the map, add listeners for begin and end\n                // of load\n                map.on('layeradd', this._layerAdd, this);\n                map.on('layerremove', this._layerRemove, this);\n            },\n\n            _removeLayerListeners: function(map) {\n                // Remove listeners for begin and end of load from all layers\n                map.eachLayer(function(layer) {\n                    if (!layer.off) return;\n                    layer.off({\n                        loading: this._handleLoading,\n                        load: this._handleLoad\n                    }, this);\n                }, this);\n\n                // Remove layeradd/layerremove listener from map\n                map.off('layeradd', this._layerAdd, this);\n                map.off('layerremove', this._layerRemove, this);\n            },\n\n            _addMapListeners: function(map) {\n                // Add listeners to the map for (custom) dataloading and dataload\n                // events, eg, for AJAX calls that affect the map but will not be\n                // reflected in the above layer events.\n                map.on({\n                    baselayerchange: this._handleBaseLayerChange,\n                    dataloading: this._handleLoading,\n                    dataload: this._handleLoad,\n                    layerremove: this._handleLoad\n                }, this);\n            },\n\n            _removeMapListeners: function(map) {\n                map.off({\n                    baselayerchange: this._handleBaseLayerChange,\n                    dataloading: this._handleLoading,\n                    dataload: this._handleLoad,\n                    layerremove: this._handleLoad\n                }, this);\n            }\n        });\n\n        L.Map.addInitHook(function () {\n            if (this.options.loadingControl) {\n                this.loadingControl = new L.Control.Loading();\n                this.addControl(this.loadingControl);\n            }\n        });\n\n        L.Control.loading = function(options) {\n            return new L.Control.Loading(options);\n        };\n    }\n\n    if (typeof define === 'function' && define.amd) {\n        // Try to add leaflet.loading to Leaflet using AMD\n        define(['leaflet'], function (L) {\n            defineLeafletLoading(L);\n        });\n    }\n    else {\n        // Else use the global L\n        defineLeafletLoading(L);\n    }\n\n})();\n","/// <reference types='leaflet-loading' />\nimport { Component, OnInit, OnDestroy, Input } from '@angular/core';\nimport {Map, Control} from 'leaflet';\nimport '../../../../node_modules/leaflet-loading/src/Control.Loading.js'\n\n@Component({\n  selector: 'leaflet-loading-control',\n  template: '',\n})\nexport class NgxLoadingControlComponent implements OnInit, OnDestroy {\n\n  private _map?: Map;\n  private loading: Control.Loading = new Control();\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n  ngOnDestroy() {\n    this._map?.removeControl(this.loading);\n  }\n\n  @Input() options: {[name:string]:any} = {};\n\n  @Input() set map(map: Map | undefined){\n    if (map) {\n      this._map = map;\n      this.loading = new Control.Loading(this.options);\n      this.loading.addTo(map);\n    }\n  }\n  get map(): Map | undefined {\n    return this._map\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { NgxLoadingControlComponent } from './ngx-loading-control.component';\n\n\n\n@NgModule({\n  declarations: [NgxLoadingControlComponent],\n  imports: [\n  ],\n  exports: [NgxLoadingControlComponent]\n})\nexport class NgxLoadingControlModule { }\n","/*\n * Public API Surface of ngx-loading-control\n */\nexport * from './lib/ngx-loading-control.component';\nexport * from './lib/ngx-loading-control.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}