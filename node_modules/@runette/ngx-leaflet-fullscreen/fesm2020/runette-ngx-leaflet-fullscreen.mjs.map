{"version":3,"file":"runette-ngx-leaflet-fullscreen.mjs","sources":["../../../node_modules/@runette/leaflet-fullscreen/dist/Leaflet.fullscreen.min.js","../../../src/lib/ngx-leaflet-fullscreen.component.ts","../../../src/lib/ngx-leaflet-fullscreen.module.ts","../../../src/runette-ngx-leaflet-fullscreen.ts"],"sourcesContent":["(function(factory){if(typeof define===\"function\"&&define.amd){define([\"leaflet\"],factory)}else if(typeof module!==\"undefined\"){module.exports=factory(require(\"leaflet\"))}else{if(typeof window.L===\"undefined\"){throw new Error(\"Leaflet must be loaded first\")}factory(window.L)}})(function(L){L.Control.Fullscreen=L.Control.extend({options:{position:\"topleft\",title:{false:\"View fullscreen\",true:\"Exit fullscreen\"}},onAdd:function(map){var container=L.DomUtil.create(\"div\",\"leaflet-control-fullscreen leaflet-bar leaflet-control\");this.link=L.DomUtil.create(\"a\",\"leaflet-control-fullscreen-button leaflet-bar-part\",container);this.link.href=\"#\";this.link.setAttribute(\"role\",\"button\");this.icon=L.DomUtil.create(\"span\",\"leaflet-control-fullscreen-icon\",this.link);this._map=map;this._map.on(\"fullscreenchange\",this._toggleTitle,this);this._toggleTitle();L.DomEvent.on(this.link,\"click\",this._click,this);return container},_click:function(e){L.DomEvent.stopPropagation(e);L.DomEvent.preventDefault(e);this._map.toggleFullscreen(this.options)},_toggleTitle:function(){this.link.title=this.options.title[this._map.isFullscreen()]}});L.Map.include({isFullscreen:function(){return this._isFullscreen||false},toggleFullscreen:function(options){var container=this.getContainer();if(this.isFullscreen()){if(options&&options.pseudoFullscreen){this._disablePseudoFullscreen(container)}else if(document.exitFullscreen){document.exitFullscreen()}else if(document.mozCancelFullScreen){document.mozCancelFullScreen()}else if(document.webkitCancelFullScreen){document.webkitCancelFullScreen()}else if(document.msExitFullscreen){document.msExitFullscreen()}else{this._disablePseudoFullscreen(container)}}else{if(options&&options.pseudoFullscreen){this._enablePseudoFullscreen(container)}else if(container.requestFullscreen){container.requestFullscreen()}else if(container.mozRequestFullScreen){container.mozRequestFullScreen()}else if(container.webkitRequestFullscreen){container.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}else if(container.msRequestFullscreen){container.msRequestFullscreen()}else{this._enablePseudoFullscreen(container)}}},_enablePseudoFullscreen:function(container){L.DomUtil.addClass(container,\"leaflet-pseudo-fullscreen\");this._setFullscreen(true);this.fire(\"fullscreenchange\")},_disablePseudoFullscreen:function(container){L.DomUtil.removeClass(container,\"leaflet-pseudo-fullscreen\");this._setFullscreen(false);this.fire(\"fullscreenchange\")},_setFullscreen:function(fullscreen){this._isFullscreen=fullscreen;var container=this.getContainer();if(fullscreen){L.DomUtil.addClass(container,\"leaflet-fullscreen-on\")}else{L.DomUtil.removeClass(container,\"leaflet-fullscreen-on\")}this.invalidateSize()},_onFullscreenChange:function(e){var fullscreenElement=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement;if(fullscreenElement===this.getContainer()&&!this._isFullscreen){this._setFullscreen(true);this.fire(\"fullscreenchange\")}else if(fullscreenElement!==this.getContainer()&&this._isFullscreen){this._setFullscreen(false);this.fire(\"fullscreenchange\")}}});L.Map.mergeOptions({fullscreenControl:false});L.Map.addInitHook(function(){if(this.options.fullscreenControl){this.fullscreenControl=new L.Control.Fullscreen(this.options.fullscreenControl);this.addControl(this.fullscreenControl)}var fullscreenchange;if(\"onfullscreenchange\"in document){fullscreenchange=\"fullscreenchange\"}else if(\"onmozfullscreenchange\"in document){fullscreenchange=\"mozfullscreenchange\"}else if(\"onwebkitfullscreenchange\"in document){fullscreenchange=\"webkitfullscreenchange\"}else if(\"onmsfullscreenchange\"in document){fullscreenchange=\"MSFullscreenChange\"}if(fullscreenchange){var onFullscreenChange=L.bind(this._onFullscreenChange,this);this.whenReady(function(){L.DomEvent.on(document,fullscreenchange,onFullscreenChange)});this.on(\"unload\",function(){L.DomEvent.off(document,fullscreenchange,onFullscreenChange)})}});L.control.fullscreen=function(options){return new L.Control.Fullscreen(options)}});\r\n","/// <reference types='@runette/leaflet-fullscreen'/>\nimport { Component, OnInit, OnDestroy, Input } from '@angular/core';\nimport {Map, Control, FullscreenOptions} from 'leaflet';\nimport '../../../../node_modules/@runette/leaflet-fullscreen/dist/Leaflet.fullscreen.min.js';\n\n@Component({\n  selector: 'leaflet-fullscreen-control',\n  template: '',\n  styleUrls: []\n})\nexport class FullscreenControlComponent implements OnInit, OnDestroy {\n  private _options: FullscreenOptions = {};\n\n  @Input() set options(opt: FullscreenOptions) {\n    this._options = opt;\n    this.control = new Control.Fullscreen(this._options)\n    if (this._map) {\n        this._map?.addControl(this.control);\n        this._map?.on('enterFullscreen', () => this._map?.invalidateSize());\n        this._map?.on('exitFullscreen', () => this._map?.invalidateSize());\n    }\n  }\n\n  private _map?: Map;\n  public control?: Control.Fullscreen;\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n  ngOnDestroy() {\n    if (this.control) {\n      this._map?.removeControl(this.control);\n      this._map?.off('enterFullscreen');\n      this._map?.off('exitFullscreen')\n    }\n  }\n\n  @Input() set map(map: Map | undefined){\n    if (map) { \n      this._map = map;\n      if (this.control)\n      {\n        map.addControl(this.control)\n        map.on('enterFullscreen', () => map.invalidateSize());\n        map.on('exitFullscreen', () => map.invalidateSize());\n      }\n    };\n  };\n  get map(): Map | undefined {\n    return this._map\n  };\n};\n","import { NgModule } from '@angular/core';\nimport { FullscreenControlComponent } from './ngx-leaflet-fullscreen.component';\n\n@NgModule({\n  declarations: [FullscreenControlComponent],\n  imports: [\n  ],\n  exports: [FullscreenControlComponent]\n})\nexport class NgxLeafletFullscreenModule { }\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}